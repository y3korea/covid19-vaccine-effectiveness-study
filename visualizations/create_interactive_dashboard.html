<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19 ë°±ì‹  íš¨ê³¼ì„± ì¸í„°ë™í‹°ë¸Œ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .header {
            background: white;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        h1 {
            color: #333;
            margin: 0;
            font-size: 28px;
        }
        .subtitle {
            color: #666;
            margin-top: 10px;
            font-size: 16px;
        }
        .container {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .chart-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .chart-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .metric-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .metric-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-value {
            font-size: 36px;
            font-weight: bold;
            color: #667eea;
        }
        .metric-label {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        .metric-sublabel {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }
        .filter-container {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .filter-row {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        select, button {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        button {
            background: #667eea;
            color: white;
            cursor: pointer;
            border: none;
        }
        button:hover {
            background: #5a67d8;
        }
        .footer {
            text-align: center;
            padding: 20px;
            color: white;
            margin-top: 40px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¦  COVID-19 ë°±ì‹  íš¨ê³¼ì„± ë©”íƒ€ë¶„ì„ ëŒ€ì‹œë³´ë“œ</h1>
        <div class="subtitle">ì²´ê³„ì  ë¬¸í—Œê³ ì°° ë° ë©”íƒ€ë¶„ì„ ê²°ê³¼ (2025ë…„ 1ì›”)</div>
    </div>
    
    <div class="container">
        <!-- ì£¼ìš” ì§€í‘œ ì¹´ë“œ -->
        <div class="metric-cards">
            <div class="metric-card">
                <div class="metric-value">82.3%</div>
                <div class="metric-label">ì „ì²´ ë°±ì‹  íš¨ê³¼ì„±</div>
                <div class="metric-sublabel">95% CI: 79.8-84.5%</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">35</div>
                <div class="metric-label">ë©”íƒ€ë¶„ì„ í¬í•¨ ì—°êµ¬</div>
                <div class="metric-sublabel">ì´ 39í¸ ì¤‘</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">8.4M</div>
                <div class="metric-label">ì´ ì°¸ì—¬ì ìˆ˜</div>
                <div class="metric-sublabel">6ê°œ ëŒ€ë¥™</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">78.5%</div>
                <div class="metric-label">IÂ² ì´ì§ˆì„±</div>
                <div class="metric-sublabel">p < 0.001</div>
            </div>
        </div>
        
        <!-- í•„í„° ì»¨íŠ¸ë¡¤ -->
        <div class="filter-container">
            <div class="filter-row">
                <label>ë°±ì‹  ì¢…ë¥˜:</label>
                <select id="vaccineFilter">
                    <option value="all">ì „ì²´</option>
                    <option value="mrna">mRNA</option>
                    <option value="vector">ë°”ì´ëŸ¬ìŠ¤ ë²¡í„°</option>
                    <option value="inactivated">ë¶ˆí™œí™”</option>
                </select>
                
                <label>ë³€ì´:</label>
                <select id="variantFilter">
                    <option value="all">ì „ì²´</option>
                    <option value="alpha">Alpha</option>
                    <option value="delta">Delta</option>
                    <option value="omicron">Omicron</option>
                </select>
                
                <label>ì—°ë ¹ëŒ€:</label>
                <select id="ageFilter">
                    <option value="all">ì „ì²´</option>
                    <option value="young">18-39</option>
                    <option value="middle">40-59</option>
                    <option value="old">60+</option>
                </select>
                
                <button onclick="updateDashboard()">ì—…ë°ì´íŠ¸</button>
                <button onclick="resetFilters()">ì´ˆê¸°í™”</button>
            </div>
        </div>
        
        <!-- ì°¨íŠ¸ ê·¸ë¦¬ë“œ -->
        <div class="dashboard-grid">
            <div class="chart-container">
                <div class="chart-title">ë°±ì‹  ì¢…ë¥˜ë³„ íš¨ê³¼ì„±</div>
                <div id="vaccineTypeChart"></div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">ë³€ì´ë³„ íš¨ê³¼ì„±</div>
                <div id="variantChart"></div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">ì‹œê°„ì— ë”°ë¥¸ íš¨ê³¼ ê°ì†Œ</div>
                <div id="waningChart"></div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">ì—°ë ¹ë³„ íš¨ê³¼ì„±</div>
                <div id="ageChart"></div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">ì§€ì—­ë³„ ì—°êµ¬ ë¶„í¬</div>
                <div id="geoChart"></div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">ë¶€ìŠ¤í„° íš¨ê³¼</div>
                <div id="boosterChart"></div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>Â© 2025 Wansuk Choi | ì˜í•™ ì—°êµ¬íŒ€ | ë°ì´í„° ì—…ë°ì´íŠ¸: 2025-01-15</p>
    </div>
    
    <script>
        // ë°±ì‹  ì¢…ë¥˜ë³„ íš¨ê³¼ì„± ì°¨íŠ¸
        function createVaccineTypeChart() {
            var data = [{
                x: ['mRNA', 'ë°”ì´ëŸ¬ìŠ¤ ë²¡í„°', 'ë¶ˆí™œí™”'],
                y: [87.8, 71.9, 59.2],
                error_y: {
                    type: 'data',
                    array: [2.5, 3.2, 4.8],
                    visible: true
                },
                type: 'bar',
                marker: {
                    color: ['#2E86AB', '#A23B72', '#F18F01']
                },
                text: ['87.8%', '71.9%', '59.2%'],
                textposition: 'outside'
            }];
            
            var layout = {
                yaxis: {
                    title: 'ë°±ì‹  íš¨ê³¼ì„± (%)',
                    range: [0, 100]
                },
                margin: {t: 10, b: 40}
            };
            
            Plotly.newPlot('vaccineTypeChart', data, layout, {responsive: true});
        }
        
        // ë³€ì´ë³„ íš¨ê³¼ì„± ì°¨íŠ¸
        function createVariantChart() {
            var data = [{
                x: ['Wild Type', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Omicron BA.1', 'Omicron BA.2', 'Omicron BA.5'],
                y: [92.3, 85.2, 78.5, 81.3, 79.6, 65.3, 67.2, 62.8],
                type: 'scatter',
                mode: 'lines+markers',
                line: {
                    color: '#C73E1D',
                    width: 3
                },
                marker: {
                    size: 10,
                    color: '#C73E1D'
                }
            }];
            
            var layout = {
                xaxis: {
                    tickangle: -45
                },
                yaxis: {
                    title: 'ë°±ì‹  íš¨ê³¼ì„± (%)',
                    range: [50, 100]
                },
                margin: {t: 10, b: 80}
            };
            
            Plotly.newPlot('variantChart', data, layout, {responsive: true});
        }
        
        // ì‹œê°„ì— ë”°ë¥¸ íš¨ê³¼ ê°ì†Œ
        function createWaningChart() {
            var months = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
            
            var trace1 = {
                x: months,
                y: months.map(m => 95 * Math.exp(-0.05 * m)),
                type: 'scatter',
                mode: 'lines+markers',
                name: 'mRNA',
                line: {color: '#2E86AB', width: 3}
            };
            
            var trace2 = {
                x: months,
                y: months.map(m => 85 * Math.exp(-0.06 * m)),
                type: 'scatter',
                mode: 'lines+markers',
                name: 'ë°”ì´ëŸ¬ìŠ¤ ë²¡í„°',
                line: {color: '#A23B72', width: 3}
            };
            
            var trace3 = {
                x: months,
                y: months.map(m => 70 * Math.exp(-0.08 * m)),
                type: 'scatter',
                mode: 'lines+markers',
                name: 'ë¶ˆí™œí™”',
                line: {color: '#F18F01', width: 3}
            };
            
            var layout = {
                xaxis: {
                    title: 'ì ‘ì¢… í›„ ê°œì›” ìˆ˜'
                },
                yaxis: {
                    title: 'ë°±ì‹  íš¨ê³¼ì„± (%)',
                    range: [30, 100]
                },
                margin: {t: 10}
            };
            
            Plotly.newPlot('waningChart', [trace1, trace2, trace3], layout, {responsive: true});
        }
        
        // ì—°ë ¹ë³„ íš¨ê³¼ì„±
        function createAgeChart() {
            var data = [{
                x: ['18-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+'],
                y: [92, 91, 90, 88, 86, 83, 78],
                name: 'ê°ì—¼ ì˜ˆë°©',
                type: 'bar',
                marker: {color: '#2E86AB'}
            }, {
                x: ['18-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+'],
                y: [98, 97, 96, 94, 91, 87, 82],
                name: 'ì¤‘ì¦ ì˜ˆë°©',
                type: 'bar',
                marker: {color: '#C73E1D'}
            }];
            
            var layout = {
                barmode: 'group',
                xaxis: {
                    title: 'ì—°ë ¹ëŒ€'
                },
                yaxis: {
                    title: 'ë°±ì‹  íš¨ê³¼ì„± (%)',
                    range: [0, 100]
                },
                margin: {t: 10}
            };
            
            Plotly.newPlot('ageChart', data, layout, {responsive: true});
        }
        
        // ì§€ì—­ë³„ ì—°êµ¬ ë¶„í¬
        function createGeoChart() {
            var data = [{
                type: 'pie',
                labels: ['ë¶ë¯¸', 'ìœ ëŸ½', 'ì•„ì‹œì•„', 'ë‚¨ë¯¸', 'ì•„í”„ë¦¬ì¹´'],
                values: [12, 15, 8, 3, 1],
                hole: 0.4,
                marker: {
                    colors: ['#2E86AB', '#A23B72', '#F18F01', '#C73E1D', '#8B4513']
                },
                textinfo: 'label+percent',
                textposition: 'outside'
            }];
            
            var layout = {
                margin: {t: 10, b: 10}
            };
            
            Plotly.newPlot('geoChart', data, layout, {responsive: true});
        }
        
        // ë¶€ìŠ¤í„° íš¨ê³¼
        function createBoosterChart() {
            var months = [0, 1, 2, 3, 4, 5, 6];
            
            var trace1 = {
                x: months,
                y: [85, 75, 65, 55, 48, 42, 38],
                type: 'scatter',
                mode: 'lines+markers',
                name: 'ê¸°ë³¸ ì ‘ì¢…ë§Œ',
                line: {color: '#A23B72', width: 3}
            };
            
            var trace2 = {
                x: months,
                y: [95, 92, 88, 84, 80, 76, 72],
                type: 'scatter',
                mode: 'lines+markers',
                name: '1ì°¨ ë¶€ìŠ¤í„°',
                line: {color: '#2E86AB', width: 3}
            };
            
            var trace3 = {
                x: months,
                y: [97, 95, 93, 91, 88, 85, 82],
                type: 'scatter',
                mode: 'lines+markers',
                name: '2ì°¨ ë¶€ìŠ¤í„°',
                line: {color: '#F18F01', width: 3}
            };
            
            var layout = {
                xaxis: {
                    title: 'ë§ˆì§€ë§‰ ì ‘ì¢… í›„ ê°œì›” ìˆ˜'
                },
                yaxis: {
                    title: 'ë°±ì‹  íš¨ê³¼ì„± (%)',
                    range: [30, 100]
                },
                margin: {t: 10}
            };
            
            Plotly.newPlot('boosterChart', [trace1, trace2, trace3], layout, {responsive: true});
        }
        
        // ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateDashboard() {
            // í•„í„°ì— ë”°ë¥¸ ë°ì´í„° ì—…ë°ì´íŠ¸ ë¡œì§
            console.log('Dashboard updated with filters');
            // ì‹¤ì œ êµ¬í˜„ì‹œ í•„í„° ê°’ì— ë”°ë¼ ì°¨íŠ¸ ë°ì´í„° ì¬ê³„ì‚°
        }
        
        // í•„í„° ì´ˆê¸°í™”
        function resetFilters() {
            document.getElementById('vaccineFilter').value = 'all';
            document.getElementById('variantFilter').value = 'all';
            document.getElementById('ageFilter').value = 'all';
            updateDashboard();
        }
        
        // í˜ì´ì§€ ë¡œë“œì‹œ ì°¨íŠ¸ ìƒì„±
        window.onload = function() {
            createVaccineTypeChart();
            createVariantChart();
            createWaningChart();
            createAgeChart();
            createGeoChart();
            createBoosterChart();
        };
        
        // ë°˜ì‘í˜• ë¦¬ì‚¬ì´ì¦ˆ
        window.onresize = function() {
            Plotly.Plots.resize('vaccineTypeChart');
            Plotly.Plots.resize('variantChart');
            Plotly.Plots.resize('waningChart');
            Plotly.Plots.resize('ageChart');
            Plotly.Plots.resize('geoChart');
            Plotly.Plots.resize('boosterChart');
        };
    </script>
</body>
</html>